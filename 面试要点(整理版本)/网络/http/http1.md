<!-- https://time.geekbang.org/column/article/147501 -->
### http 0.9 不支持传输多种类型的文件
### http 1.0 加入了请求头和响应头，可以传输接收多种类型的文件
    -  
     ```
        accept: text/html
        accept-encoding: gzip, deflate, br
        accept-Charset: ISO-8859-1,utf-8
        accept-language: zh-CN,zh
        accept: text/html
        accept-encoding: gzip, deflate, braccept-Charset: ISO-8859-1,utf-8
        accept-language: zh-CN,zh
    ```

### http 1.1 增加的新特性

1： 加入了持久连接，解决1.0 每次发送连接都需要3次握手4次挥手的TCP操作，HTTP/1.1 中增加了持久连接的方法，它的特点是在一个 TCP 连接上可以传输多个 HTTP 请求，只要浏览器或者服务器没有明确断开连接，那么该 TCP 连接会一直保持。

持久连接在 HTTP/1.1 中是默认开启的，所以你不需要专门为了持久连接去 HTTP 请求头设置信息，如果你不想要采用持久连接，可以在 HTTP 请求头中加上Connection: close。目前浏览器中对于同一个域名，默认允许同时建立 6 个 TCP 持久连接。

2： 不成熟http 管线化
- 队头阻塞问题， 持久连接虽然可以复用TCP连接，但是一次请求一次响应，如果其中一个请求发生了阻塞，后面就没法进行请求了。

- HTTP/1.1 中试图通过管线化的技术来解决队头阻塞的问题。

    HTTP/1.1 中的管线化是指将多个 HTTP 请求整批提交给服务器的技术，虽然可以整批发送请求，不过服务器依然需要根据请求顺序来回复浏览器的请求。FireFox、Chrome 都做过管线化的试验，但是由于各种原因，它们最终都放弃了管线化技术。
    
3： 提供虚拟主机的支持

在 HTTP/1.0 中，每个域名绑定了一个唯一的 IP 地址，因此一个服务器只能支持一个域名。但是随着虚拟主机技术的发展，需要实现在一台物理主机上绑定多个虚拟主机，每个虚拟主机都有自己的单独的域名，这些单独的域名都公用同一个 IP 地址。

因此，HTTP/1.1 的请求头中增加了 Host 字段，用来表示当前的域名地址，这样服务器就可以根据不同的 Host 值做不同的处理。

4：  对动态生成的内容提供了完美支持

在设计 HTTP/1.0 时，需要在响应头中设置完整的数据大小，如Content-Length: 901，这样浏览器就可以根据设置的数据大小来接收数据。不过随着服务器端的技术发展，很多页面的内容都是动态生成的，因此在传输数据之前并不知道最终的数据大小，这就导致了浏览器不知道何时会接收完所有的文件数据。

HTTP/1.1 通过引入 Chunk transfer 机制来解决这个问题，服务器会将数据分割成若干个任意大小的数据块，每个数据块发送时会附上上个数据块的长度，最后使用一个零长度的块作为发送数据完成的标志。这样就提供了对动态内容的支持。

5： 客户端 Cookie、安全机制


